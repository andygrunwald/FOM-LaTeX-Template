% Optionen für Biblatex
\ExecuteBibliographyOptions{%
  giveninits=false,
  isbn=true,
  url=true,
  doi=false,
  eprint=false,
  minbibnames=1,
  maxbibnames=7,      % Alle Autoren (kein et al.)
  mincitenames=1,     % et al. ab dem 3. Autor
  maxcitenames=1,     % et al. ab dem 3. Autor
  backref=false,      % Rueckverweise auf Zitatseiten
  bibencoding=utf8,   % wenn .bib in utf8, sonst ascii
  bibwarn=true        % Warnung bei fehlerhafter bib-Datei
}%

\renewbibmacro*{cite:labelyear+extrayear}{%
  \iffieldundef{labelyear}
    {}
    {\printtext[bibhyperref]{%
       \mkbibparens{%
         \printfield{labelyear}%
         \printfield{extrayear}}}}}

\DeclareNameFormat{last-first}{%
  \iffirstinits
    {\usebibmacro{name:family-given}
        {\namepartfamily}
        {\namepartgiveni}
        {\namepartprefix}
        {\namepartsuffix}
    }
    {\usebibmacro{name:family-given}
        {\namepartfamily}
        {\namepartgiven}
        {\namepartprefix}
        {\namepartsuffix}
    }%
  \usebibmacro{name:andothers}

  }

% Alternative Notation der Fußnoten
%% footcite überschreiben
\DeclareCiteCommand{\footcite}[\mkbibfootnote]        % TODO Autor nur Inital als Vornamen!
  {\printtext{Vgl.}}                                  % TODO Bsp.-PDF anpassen
  {\usebibmacro{citeindex}%                           % TODO Zahlen [] raus
  \addspace\textit{\printnames[sortname][1-1]{author}}%
  \addcomma\addspace\printfield{title}\addcomma\addspace
  \addspace\printfield{year}\addcomma\addspace
  }
  {\usebibmacro{prenote}
  }

% Zeigt sowohl den Nachnamen als auch den Vornamen an
%% Beispiel: \fullfootcite[Vgl. ][Seite 5]{Tanenbaum.2003}
\DeclareCiteCommand{\fullfootcite}[\mkbibfootnote]
    {\usebibmacro{prenote}
    }
    {\usebibmacro{citeindex}%
        \printnames[sortname][1-1]{author}%
        \addspace\printfield{year}
    }
    {\addsemicolon\space}
    {\usebibmacro{postnote}
    }

% Advanced Styles %%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareCiteCommand{\bookcite}[\mkbibfootnote]              % TODO Autor nur Inital als Vornamen!
    {\printtext{Vgl.}\addspace
    }
    {\usebibmacro{citeindex}%
        \addspace\textit{\printnames[sortname][1-1]{author}}%
        \addcomma\addspace\printfield{title}
        \addcomma\addspace\printfield{year}
    }
    {\addcomma\addspace\printtext{S.}\addspace}
    {\usebibmacro{postnote}
    }

\DeclareCiteCommand{\onlinecite}[\mkbibfootnote]              % TODO Autor nur Inital als Vornamen!
    {\printtext{Vgl.}}                                        % TODO Bsp.-PDF anpassen
    {\usebibmacro{citeindex}%                                 % TODO Zahlen [] raus
        \addspace\textit{\printfield{url}}
        \addcomma\addspace
        \addcomma\addspace\printtext{Zugriff am}
        \addspace\printfield{note}
    }
    {}
    {\usebibmacro{postnote}
    }


% Autoren (Nachname, Vorname)
\DeclareNameAlias{default}{family-given}
% \DeclareNameAlias{sortname}{family-given}%

% Reihenfolge von publisher, year, address verändern
% Achtung, bisher nur für den Typ @book definiert

% Literaturverzeichnis
%% Definiert @Book Eintrag         % TODO pages f. ff. (optional)
\DeclareBibliographyDriver{book}{%
  \textit{\printnames{author}}%
  \newunit\addspace
  \printtext{$($}%
  \printfield{title}%
  \setunit*{\addcomma\addspace}%
  \printfield{year}%
  \printtext{$)$}%
  \setunit*{\addcolon\addspace}%
  \printfield{booktitle}%
  \setunit*{\addcomma\addspace}%
  \printfield{edition}%
  \setunit*{\addcomma\addspace}%
  \printlist{address}%           % TODO falls mehr als drei Orte u.a.
  \setunit*{\addcolon\addspace}%
  \printlist{publisher}%
  \setunit*{\addspace}%
  \printfield{year}%
}

%% Definiert @Article Eintrag
\DeclareBibliographyDriver{article}{%
  \textit{\printnames{author}}%
  \newunit\addspace
  \printtext{$($}%
  \printfield{title}%
  \setunit*{\addcomma\addspace}%
  \printfield{year}%
  \printtext{$)$}%
  \setunit*{\addcolon\addspace}%
  \printfield{booktitle}%
  \setunit*{\addcomma\addspace}%
  \printfield{edition}%
  \setunit*{\addcomma\addspace}%
  \printlist{address}%           % TODO falls mehr als drei Orte u.a.
  \setunit*{\addcolon\addspace}%
  \printlist{publisher}%
  \setunit*{\addspace}%
  \printfield{year}%
}

%% Definiert @Online Eintrag
\DeclareBibliographyDriver{online}{%
\textit{\printnames{author}}%
\newunit\addspace
\printtext{$($}%
\printfield{title}%
\setunit*{\addcomma\addspace}%
\printfield{year}%
\printtext{$)$}%
\setunit*{\addcolon\addspace}%
\printfield{booktitle}%
\setunit*{\addcomma\addspace}%
\printtext{$($}%
\printfield{year}%
\printtext{$)$}%
\setunit*{\addcomma\addspace}%
\textit{\printfield{url}}%
\setunit*{,\addspace (Zugriff\addspace}%
\printfield{note}%
\printtext{$)$}%
}

%Leerzeichen an Stelle des Punktes, nach Autor
\renewcommand*{\newunitpunct}{\addspace}

%Titel nicht kursiv anzeigen
\DeclareFieldFormat{title}{#1\isdot}

%\finentry % dot %%%dot am Ende im Literaturverzeichnis